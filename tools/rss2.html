<figure class="highlight erb"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><span class="meta">&lt;?xml-stylesheet type="text/css" href="/public/css/rss.css" ?&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">rss</span> <span class="attr">version</span>=<span class="string">"2.0"</span></span></span></span><br><span class="line"><span class="xml">  xmlns:atom="http://www.w3.org/2005/Atom"</span></span><br><span class="line"><span class="xml">  xmlns:content="http://purl.org/rss/1.0/modules/content/"&gt;</span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">channel</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;<span class="name">%-</span></span></span><span class="ruby">: config.title <span class="params">| cdata </span></span><span class="xml"><span class="tag">%&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">link</span>&gt;</span><span class="tag">&lt;<span class="name">%-</span></span></span><span class="ruby"> encodeURI(url) </span><span class="xml"><span class="tag">%&gt;</span><span class="tag">&lt;/<span class="name">link</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/1999/xhtml"</span> <span class="attr">src</span>=<span class="string">"/public/js/rss.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">atom:link</span> <span class="attr">href</span>=<span class="string">"&lt;%-</span></span></span><span class="ruby"> encodeURI(feed_url) </span><span class="xml"><span class="tag"><span class="string">%&gt;"</span> <span class="attr">rel</span>=<span class="string">"self"</span> <span class="attr">type</span>=<span class="string">"application/rss+xml"</span>/&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">description</span>&gt;</span><span class="tag">&lt;<span class="name">%-</span></span></span><span class="ruby">: config.description <span class="params">| cdata </span></span><span class="xml"><span class="tag">%&gt;</span><span class="tag">&lt;/<span class="name">description</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">pubDate</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span></span></span><span class="ruby"> posts.first().updated.toDate().toString() </span><span class="xml"><span class="tag">%&gt;</span><span class="tag">&lt;/<span class="name">pubDate</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">generator</span>&gt;</span>http://hexo.io/<span class="tag">&lt;/<span class="name">generator</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> posts.each(function(post)&#123; </span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;<span class="name">%-</span></span></span><span class="ruby">: post.title <span class="params">| cdata </span></span><span class="xml"><span class="tag">%&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">link</span>&gt;</span><span class="tag">&lt;<span class="name">%-</span></span></span><span class="ruby"> encodeURI(url + post.path) </span><span class="xml"><span class="tag">%&gt;</span><span class="tag">&lt;/<span class="name">link</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">guid</span>&gt;</span><span class="tag">&lt;<span class="name">%-</span></span></span><span class="ruby"> encodeURI(url + post.path) </span><span class="xml"><span class="tag">%&gt;</span><span class="tag">&lt;/<span class="name">guid</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">pubDate</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span></span></span><span class="ruby"> post.date.toDate().toString() </span><span class="xml"><span class="tag">%&gt;</span><span class="tag">&lt;/<span class="name">pubDate</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">description</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> <span class="keyword">if</span> (post.description)&#123; </span><span class="xml"><span class="tag">%&gt;</span><span class="tag">&lt;<span class="name">%-</span></span></span><span class="ruby">: post.description <span class="params">| cdata </span></span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> &#125; <span class="keyword">else</span> <span class="keyword">if</span> (post.excerpt)&#123; </span><span class="xml"><span class="tag">%&gt;</span><span class="tag">&lt;<span class="name">%-</span></span></span><span class="ruby">: post.excerpt <span class="params">| cdata </span></span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> &#125; <span class="keyword">else</span> &#123;</span><span class="xml"><span class="tag">%&gt;</span><span class="tag">&lt;<span class="name">%-</span></span></span><span class="ruby">: post.content.substring(<span class="number">0</span>, <span class="number">140</span>) <span class="params">| cdata </span></span><span class="xml"><span class="tag">%&gt;</span><span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"><span class="params"> &#125; </span></span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">description</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">content:encoded</span>&gt;</span><span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> <span class="keyword">if</span> (post.description)&#123; </span><span class="xml"><span class="tag">%&gt;</span><span class="tag">&lt;<span class="name">%-</span></span></span><span class="ruby">: post.description <span class="params">| cdata </span></span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> &#125; <span class="keyword">else</span> <span class="keyword">if</span> (post.excerpt)&#123; </span><span class="xml"><span class="tag">%&gt;</span><span class="tag">&lt;<span class="name">%-</span></span></span><span class="ruby">: post.excerpt <span class="params">| cdata </span></span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> &#125; <span class="keyword">else</span> &#123;</span><span class="xml"><span class="tag">%&gt;</span><span class="tag">&lt;<span class="name">%-</span></span></span><span class="ruby">: post.content.substring(<span class="number">0</span>, <span class="number">140</span>) <span class="params">| cdata </span></span><span class="xml"><span class="tag">%&gt;</span><span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"><span class="params"> &#125; </span></span><span class="xml"><span class="tag">%&gt;</span><span class="tag">&lt;/<span class="name">content:encoded</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> <span class="keyword">if</span> (post.comments)&#123; </span><span class="xml"><span class="tag">%&gt;</span><span class="tag">&lt;<span class="name">comments</span>&gt;</span><span class="tag">&lt;<span class="name">%-</span></span></span><span class="ruby"> encodeURI(url + post.path) </span><span class="xml"><span class="tag">%&gt;</span>#disqus_thread<span class="tag">&lt;/<span class="name">comments</span>&gt;</span><span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> &#125; </span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> &#125;) </span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">channel</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">rss</span>&gt;</span></span></span><br></pre></td></tr></table></figure>